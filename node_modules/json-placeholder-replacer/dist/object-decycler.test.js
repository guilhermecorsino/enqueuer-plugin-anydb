"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const object_decycler_1 = require("./object-decycler");
describe('ObjectDecycler', () => {
    it('should stringify cycle reference', () => {
        let value = { firstLevel: { secondLevel: {} } };
        value.firstLevel.secondLevel.thirdLevel = value;
        const expected = { firstLevel: { secondLevel: {} } };
        const stringified = new object_decycler_1.ObjectDecycler().decycle(value);
        expect(stringified).toEqual(expected);
    });
    it('should replace cycle reference', () => {
        let value = { firstLevel: { secondLevel: {} } };
        value.firstLevel.secondLevel.thirdLevel = value;
        const replacer = '[CYCLE REFERENCE]';
        const expected = { firstLevel: { secondLevel: { thirdLevel: replacer } } };
        const stringified = new object_decycler_1.ObjectDecycler(replacer).decycle(value);
        expect(stringified).toEqual(expected);
    });
});
