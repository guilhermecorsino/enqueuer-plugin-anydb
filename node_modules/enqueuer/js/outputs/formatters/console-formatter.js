"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const prettyjson_1 = __importDefault(require("prettyjson"));
const prettyjson_config_1 = require("../prettyjson-config");
const object_decycler_1 = require("../../object-parser/object-decycler");
class ConsoleFormatter {
    format(report) {
        return prettyjson_1.default.render(new object_decycler_1.ObjectDecycler().decycle(report), prettyjson_config_1.getPrettyJsonConfig());
    }
}
exports.ConsoleFormatter = ConsoleFormatter;
function entryPoint(mainInstance) {
    mainInstance.reportFormatterManager.addReportFormatter(() => new ConsoleFormatter(), 'console', 'stdout');
}
exports.entryPoint = entryPoint;
