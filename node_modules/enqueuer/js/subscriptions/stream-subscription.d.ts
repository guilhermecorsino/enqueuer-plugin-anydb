import { Subscription } from './subscription';
import { SubscriptionModel } from '../models/inputs/subscription-model';
import { MainInstance } from '../plugins/main-instance';
export declare class StreamSubscription extends Subscription {
    private server;
    private stream;
    constructor(subscriptionAttributes: SubscriptionModel);
    receiveMessage(): Promise<void>;
    private gotConnection;
    subscribe(): Promise<void>;
    unsubscribe(): Promise<void>;
    sendResponse(): Promise<void>;
    private reuseServer;
    private createServer;
    private createStream;
    private createSslConnection;
    private sendGreeting;
    private tryToLoadStream;
    private waitForData;
    private onEnd;
    private onData;
    private persistStream;
}
export declare function entryPoint(mainInstance: MainInstance): void;
