"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const object_decycler_1 = require("./object-decycler");
class JsonObjectParser {
    parse(value) {
        return JSON.parse(value);
    }
    stringify(value, query = {}) {
        return JSON.stringify(new object_decycler_1.ObjectDecycler().decycle(value || {}), null, this.parseQuery(query).space);
    }
    parseQuery(query) {
        return Object.assign({}, {
            space: 2
        }, query);
    }
}
exports.JsonObjectParser = JsonObjectParser;
function entryPoint(mainInstance) {
    mainInstance.objectParserManager.addObjectParser(() => new JsonObjectParser(), 'json');
}
exports.entryPoint = entryPoint;
