"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const date_controller_1 = require("../timers/date-controller");
const crypto_1 = require("crypto");
const object_decycler_1 = require("../object-parser/object-decycler");
class IdGenerator {
    constructor(value) {
        if (value && typeof (value) !== 'string') {
            this.value = JSON.stringify(new object_decycler_1.ObjectDecycler().decycle(value));
        }
        else {
            this.value = value;
        }
    }
    generateId() {
        const hash = crypto_1.createHash('sha256');
        hash.update(this.value, 'utf8');
        const coded = hash.digest('hex');
        return new date_controller_1.DateController().getStringOnlyNumbers().substr(8, 10) +
            '_' +
            coded.substr(0, 10) +
            '_' +
            Math.trunc(Math.random() * 1000000 + 0x123);
    }
}
exports.IdGenerator = IdGenerator;
